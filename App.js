import React from "react";
import ReactDOM from "react-dom/client";

const resObj = {
  restaurant: [
    {
      info: {
        id: "464509",
        name: "Leon's - Burgers & Wings (Leon Grill)",
        cloudinaryImageId: "qol6dzbjxyse0tylbznu",
        locality: "Pulkeshi Nagar",
        areaName: "Frazer Town",
        costForTwo: "₹300 for two",
        cuisines: [
          "American",
          "Snacks",
          "Turkish",
          "Portuguese",
          "Continental",
        ],
        avgRating: 4.3,
        feeDetails: {
          restaurantId: "464509",
          fees: [
            {
              name: "BASE_DISTANCE",
              fee: 4000,
            },
            {
              name: "BASE_TIME",
            },
            {
              name: "ANCILLARY_SURGE_FEE",
            },
          ],
          totalFee: 4000,
        },
        parentId: "371281",
        avgRatingString: "4.3",
        totalRatingsString: "5K+",
        sla: {
          deliveryTime: 31,
          lastMileTravel: 4.5,
          serviceability: "SERVICEABLE",
          slaString: "31 mins",
          lastMileTravelString: "4.5 km",
          iconType: "ICON_TYPE_EMPTY",
        },
        availability: {
          nextCloseTime: "2023-08-29 01:00:00",
          opened: true,
        },
        badges: {},
        isOpen: true,
        type: "F",
        badgesV2: {
          entityBadges: {
            imageBased: {},
            textBased: {},
            textExtendedBadges: {},
          },
        },
        aggregatedDiscountInfoV3: {
          discountCalloutInfo: {
            message: "Free Delivery",
            logoCtx: {
              logo: "v1655895371/free_delivery_logo_hqipbo.png",
            },
          },
        },
        orderabilityCommunication: {
          title: {},
          subTitle: {},
          message: {},
          customIcon: {},
        },
        differentiatedUi: {
          displayType: "ADS_UI_DISPLAY_TYPE_ENUM_DEFAULT",
          differentiatedUiMediaDetails: {
            mediaType: "ADS_MEDIA_ENUM_IMAGE",
            lottie: {},
            video: {},
          },
        },
        reviewsSummary: {},
        displayType: "RESTAURANT_DISPLAY_TYPE_DEFAULT",
        restaurantOfferPresentationInfo: {},
      },
      analytics: {
        context: "seo-data-6700ba32-3a4e-46e9-a900-d8989f8dabd4",
      },
      cta: {
        link: "https://www.swiggy.com/restaurants/leons-burgers-and-wings-leon-grill-pulkeshi-nagar-frazer-town-bangalore-464509",
        text: "RESTAURANT_MENU",
        type: "WEBLINK",
      },
      widgetId: "collectionV5RestaurantListWidget_SimRestoRelevance_food_seo",
    },
    {
      info: {
        id: "3241",
        name: "Meghana Foods",
        cloudinaryImageId: "e0vvulfbahjxjz6k4uwi",
        locality: "Residency Road",
        areaName: "Ashok Nagar",
        costForTwo: "₹500 for two",
        cuisines: [
          "Biryani",
          "Andhra",
          "South Indian",
          "North Indian",
          "Chinese",
          "Seafood",
        ],
        avgRating: 4.5,
        feeDetails: {
          restaurantId: "3241",
          fees: [
            {
              name: "BASE_DISTANCE",
              fee: 3500,
            },
            {
              name: "BASE_TIME",
            },
            {
              name: "ANCILLARY_SURGE_FEE",
            },
          ],
          totalFee: 3500,
        },
        parentId: "635",
        avgRatingString: "4.5",
        totalRatingsString: "10K+",
        sla: {
          deliveryTime: 21,
          lastMileTravel: 2.3,
          serviceability: "SERVICEABLE",
          slaString: "21 mins",
          lastMileTravelString: "2.3 km",
          iconType: "ICON_TYPE_EMPTY",
        },
        availability: {
          nextCloseTime: "2023-08-29 01:30:00",
          opened: true,
        },
        badges: {},
        isOpen: true,
        type: "F",
        badgesV2: {
          entityBadges: {
            imageBased: {},
            textBased: {},
            textExtendedBadges: {},
          },
        },
        aggregatedDiscountInfoV3: {
          discountCalloutInfo: {
            message: "Free Delivery",
            logoCtx: {
              logo: "v1655895371/free_delivery_logo_hqipbo.png",
            },
          },
        },
        orderabilityCommunication: {
          title: {},
          subTitle: {},
          message: {},
          customIcon: {},
        },
        differentiatedUi: {
          displayType: "ADS_UI_DISPLAY_TYPE_ENUM_DEFAULT",
          differentiatedUiMediaDetails: {
            mediaType: "ADS_MEDIA_ENUM_IMAGE",
            lottie: {},
            video: {},
          },
        },
        reviewsSummary: {},
        displayType: "RESTAURANT_DISPLAY_TYPE_DEFAULT",
        restaurantOfferPresentationInfo: {},
      },
      analytics: {
        context: "seo-data-6700ba32-3a4e-46e9-a900-d8989f8dabd4",
      },
      cta: {
        link: "https://www.swiggy.com/restaurants/meghana-foods-residency-road-ashok-nagar-bangalore-3241",
        text: "RESTAURANT_MENU",
        type: "WEBLINK",
      },
      widgetId: "collectionV5RestaurantListWidget_SimRestoRelevance_food_seo",
    },

    {
      info: {
        id: "534235",
        name: "Cheesecake & Co.",
        cloudinaryImageId: "40b0a201eadbec469c2f9a06d5e7c722",
        locality: "6th Block",
        areaName: "Koramangala",
        costForTwo: "₹250 for two",
        cuisines: ["Bakery"],
        avgRating: 4.5,
        veg: true,
        feeDetails: {
          restaurantId: "534235",
          fees: [
            {
              name: "BASE_DISTANCE",
              fee: 6800,
            },
            {
              name: "BASE_TIME",
            },
            {
              name: "ANCILLARY_SURGE_FEE",
            },
          ],
          totalFee: 6800,
        },
        parentId: "387417",
        avgRatingString: "4.5",
        totalRatingsString: "1K+",
        sla: {
          deliveryTime: 32,
          lastMileTravel: 6.2,
          serviceability: "SERVICEABLE",
          slaString: "32 mins",
          lastMileTravelString: "6.2 km",
          iconType: "ICON_TYPE_EMPTY",
        },
        availability: {
          nextCloseTime: "2023-08-29 00:00:00",
          opened: true,
        },
        badges: {
          imageBadges: [
            {
              imageId: "newg.png",
              description: "Gourmet",
            },
          ],
        },
        isOpen: true,
        type: "F",
        badgesV2: {
          entityBadges: {
            imageBased: {
              badgeObject: [
                {
                  attributes: {
                    description: "Gourmet",
                    imageId: "newg.png",
                  },
                },
              ],
            },
            textBased: {},
            textExtendedBadges: {},
          },
        },
        aggregatedDiscountInfoV3: {
          header: "₹125 OFF",
          subHeader: "ABOVE ₹249",
          discountTag: "FLAT DEAL",
          discountCalloutInfo: {
            message: "Free Delivery",
            logoCtx: {
              logo: "v1655895371/free_delivery_logo_hqipbo.png",
            },
          },
        },
        orderabilityCommunication: {
          title: {},
          subTitle: {},
          message: {},
          customIcon: {},
        },
        differentiatedUi: {
          displayType: "ADS_UI_DISPLAY_TYPE_ENUM_DEFAULT",
          differentiatedUiMediaDetails: {
            mediaType: "ADS_MEDIA_ENUM_IMAGE",
            lottie: {},
            video: {},
          },
        },
        reviewsSummary: {},
        displayType: "RESTAURANT_DISPLAY_TYPE_DEFAULT",
        restaurantOfferPresentationInfo: {},
      },
      analytics: {
        context: "seo-data-6700ba32-3a4e-46e9-a900-d8989f8dabd4",
      },
      cta: {
        link: "https://www.swiggy.com/restaurants/cheesecake-and-co-6th-block-koramangala-bangalore-534235",
        text: "RESTAURANT_MENU",
        type: "WEBLINK",
      },
      widgetId: "collectionV5RestaurantListWidget_SimRestoRelevance_food_seo",
    },
  ],
};

const Header = () => {
  return (
    <div className="header">
      <div className="logo-container">
        <img
          className="logo"
          src="https://img.freepik.com/free-vector/detailed-chef-logo-template_23-2148987940.jpg?w=1060&t=st=1692979785~exp=1692980385~hmac=d0082e7ea16ba2430512bd29c5746862794386f03eae0724c5cfba5121bcec5c"
          alt="Logo"
        />
      </div>
      <div className="nav-items">
        <ul>
          <li>Home</li>
          <li>About us</li>
          <li>Contact us</li>
          <li>Cart</li>
        </ul>
      </div>
    </div>
  );
};

const RestaurantCard = (props) => {
  console.log(props.restaurantData);
  const { restaurantData } = props;
  //Optional chaining
  const { cloudinaryImageId, name, cuisines, avgRating, sla, costForTwo } =
    restaurantData?.info;
  return (
    <div className="res-card">
      <img
        className="res-logo"
        src={
          "https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_660/" +
          cloudinaryImageId
        }
      />
      <h3>{name}</h3>
      <h5>{cuisines.join(", ")}</h5>
      <h5>{avgRating} stars</h5>
      <h5>{sla.slaString}</h5>
      <h5>{costForTwo}</h5>
      {/* <img
        className="res-logo"
        src={
          "https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_660/" +
          restaurantData.info.cloudinaryImageId
        }
      />
      <h3>{restaurantData.info.name}</h3>
      <h5>{restaurantData.info.cuisines.join(", ")}</h5>
      <h5>{restaurantData.info.avgRating} stars</h5>
      <h5>{restaurantData.info.sla.slaString}</h5>
      <h5>{restaurantData.info.costForTwo}</h5> */}

      {/* <img
        className="res-logo"
        src="https://media-assets.swiggy.com/swiggy/image/upload/fl_lossy,f_auto,q_auto,w_660/e0vvulfbahjxjz6k4uwi"
      />
      <h3>Meghna Foods</h3>
      <h5>Biriyani, NorthIndian, Asian</h5>
      <h5>4.5 stars</h5>
      <h5>ETA</h5> */}
    </div>
  );
};

const Body = () => {
  return (
    <div className="body">
      <div className="search">Search</div>
      <div className="res-container">
        {resObj.restaurant.map((element) => {
          return (
            <RestaurantCard restaurantData={element} key={element.info.id} />
          );
        })}
      </div>
    </div>
  );
};

const Footer = () => {
  return (
    <div>
      <h3>FOOTER</h3>
      <div className="footer">
        <ul>
          <li>xyz</li>
          <li>xyz</li>
          <li>xyz</li>
          <li>xyz</li>
        </ul>
        <ul>
          <li>xyz</li>
          <li>xyz</li>
          <li>xyz</li>
          <li>xyz</li>
        </ul>
        <ul>
          <li>xyz</li>
          <li>xyz</li>
          <li>xyz</li>
          <li>xyz</li>
        </ul>
        <ul>
          <li>xyz</li>
          <li>xyz</li>
          <li>xyz</li>
          <li>xyz</li>
        </ul>
      </div>
    </div>
  );
};
const AppLayout = () => {
  return (
    <div className="app">
      {/* Header */}
      <Header />
      {/* Body */}
      <Body />
      {/* Footer */}
      <Footer />
    </div>
  );
};

const root = ReactDOM.createRoot(document.getElementById("root"));
root.render(<AppLayout />);
